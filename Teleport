--[[ 
    TELEPORT V15 - QUICK SAVE EDITION
    Script By Gemini
    Features: Quick Save Button on Screen, Universal Save, Mobile Optimized
]]

_G.WebhookURL = "https://discord.com/api/webhooks/1461901101157716201/yqVeAMIexmUV2tYEBX3Awj9I_lxvy1pj_DNGIqPyoNleVX_kK23ixP7WZZkyXAHA0mwW"

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer
local Request = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request

local UniversalFile = "UniversalTeleport_" .. tostring(game.PlaceId) .. ".json"
local Database = { CurrentFolder = "M·∫∑c ƒê·ªãnh", Folders = { ["M·∫∑c ƒê·ªãnh"] = {} } }
local isAutoLooping = false
local CurrentDelay = 1.0

-- Theme Gold
local Theme = {
    MainColor = Color3.fromRGB(12, 12, 14), 
    Transparency = 0.1,
    Accent = Color3.fromRGB(255, 215, 0), -- Gold
    Text = Color3.fromRGB(255, 255, 255),
    Red = Color3.fromRGB(255, 70, 70),
    Green = Color3.fromRGB(80, 255, 120),
    Discord = Color3.fromRGB(88, 101, 242)
}

if CoreGui:FindFirstChild("TeleportV15") then CoreGui.TeleportV15:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TeleportV15"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false

-- === N√öT ƒêI·ªÄU KHI·ªÇN TR√äN M√ÄN H√åNH (QUAN TR·ªåNG) ===

-- 1. N√∫t B·∫≠t/T·∫Øt Menu (Logo Map)
local ToggleBtn = Instance.new("ImageButton", ScreenGui)
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Size = UDim2.new(0, 45, 0, 45)
ToggleBtn.Position = UDim2.new(0.02, 0, 0.4, 0) -- V·ªã tr√≠ b√™n tr√°i
ToggleBtn.BackgroundColor3 = Theme.Accent
ToggleBtn.Image = "rbxassetid://7072719530"
ToggleBtn.ImageColor3 = Color3.new(0, 0, 0)
Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(1, 0)
Instance.new("UIStroke", ToggleBtn).Color = Color3.new(1,1,1); Instance.new("UIStroke", ToggleBtn).Thickness = 2; Instance.new("UIStroke", ToggleBtn).Transparency = 0.5

-- 2. N√∫t L∆ØU NHANH (H√¨nh ƒêƒ©a M·ªÅm) - M·ªöI
local QuickSaveBtn = Instance.new("ImageButton", ScreenGui)
QuickSaveBtn.Name = "QuickSaveBtn"
QuickSaveBtn.Size = UDim2.new(0, 40, 0, 40)
QuickSaveBtn.Position = UDim2.new(0.02, 55, 0.4, 0) -- N·∫±m ngay c·∫°nh n√∫t Toggle
QuickSaveBtn.BackgroundColor3 = Theme.Green -- M√†u xanh l√° cho d·ªÖ nh·∫≠n bi·∫øt
QuickSaveBtn.Image = "rbxassetid://18567623696" -- Icon Save/Floppy Disk
QuickSaveBtn.ImageColor3 = Color3.new(0,0,0)
Instance.new("UICorner", QuickSaveBtn).CornerRadius = UDim.new(1, 0)
Instance.new("UIStroke", QuickSaveBtn).Color = Color3.new(1,1,1); Instance.new("UIStroke", QuickSaveBtn).Thickness = 2; Instance.new("UIStroke", QuickSaveBtn).Transparency = 0.5

-- Tooltip cho n√∫t L∆∞u nhanh
local SaveLabel = Instance.new("TextLabel", QuickSaveBtn)
SaveLabel.Text = "L∆ØU NGAY"
SaveLabel.Size = UDim2.new(0, 60, 0, 15); SaveLabel.Position = UDim2.new(0.5, -30, 1, 2); SaveLabel.BackgroundTransparency = 1; SaveLabel.TextColor3 = Theme.Green; SaveLabel.TextSize = 10; SaveLabel.Font = Enum.Font.GothamBold; SaveLabel.TextStrokeTransparency = 0.5

-- === GIAO DI·ªÜN CH√çNH (MENU) ===
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 280, 0, 420)
MainFrame.Position = UDim2.new(0.5, -140, 0.5, -210)
MainFrame.BackgroundColor3 = Theme.MainColor
MainFrame.BackgroundTransparency = Theme.Transparency
MainFrame.Parent = ScreenGui
MainFrame.ClipsDescendants = true
MainFrame.Visible = false -- M·∫∑c ƒë·ªãnh ·∫©n ƒë·ªÉ ƒë·ª° v∆∞·ªõng
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)
local MainStroke = Instance.new("UIStroke", MainFrame); MainStroke.Color = Theme.Accent; MainStroke.Thickness = 1.5; MainStroke.Transparency = 0.5

-- Header
local Header = Instance.new("Frame", MainFrame)
Header.Size = UDim2.new(1, 0, 0, 40); Header.BackgroundTransparency = 1
local TitleObj = Instance.new("TextLabel", Header); TitleObj.Text = "TELEPORT V15"; TitleObj.Size = UDim2.new(0.6, 0, 1, 0); TitleObj.Position = UDim2.new(0, 10, 0, 0); TitleObj.BackgroundTransparency = 1; TitleObj.Font = Enum.Font.GothamBlack; TitleObj.TextColor3 = Theme.Accent; TitleObj.TextXAlignment = Enum.TextXAlignment.Left; TitleObj.TextSize = 14
local DiscordBtn = Instance.new("TextButton", Header); DiscordBtn.Size = UDim2.new(0, 70, 0, 24); DiscordBtn.Position = UDim2.new(1, -80, 0.5, -12); DiscordBtn.BackgroundColor3 = Theme.Discord; DiscordBtn.Text = "Backup"; DiscordBtn.TextColor3 = Color3.new(1,1,1); DiscordBtn.Font = Enum.Font.GothamBold; DiscordBtn.TextSize = 10; Instance.new("UICorner", DiscordBtn).CornerRadius = UDim.new(0, 6)

-- Th√¥ng b√°o
local NotifLabel = Instance.new("TextLabel", ScreenGui) -- ƒê∆∞a ra ngo√†i ScreenGui ƒë·ªÉ lu√¥n th·∫•y
NotifLabel.Size = UDim2.new(0, 200, 0, 30); NotifLabel.Position = UDim2.new(0.5, -100, 0.85, 0); NotifLabel.BackgroundColor3 = Color3.new(0,0,0); NotifLabel.BackgroundTransparency = 0.3; NotifLabel.Text = ""; NotifLabel.Font = Enum.Font.GothamBold; NotifLabel.TextSize = 14; NotifLabel.TextColor3 = Theme.Text; NotifLabel.Visible = false; Instance.new("UICorner", NotifLabel).CornerRadius = UDim.new(0, 8)
local function Notify(text, color)
    NotifLabel.Text = text; NotifLabel.TextColor3 = color or Theme.Accent; NotifLabel.Visible = true
    TweenService:Create(NotifLabel, TweenInfo.new(0.3), {BackgroundTransparency = 0.3}):Play()
    wait(2)
    NotifLabel.Visible = false
end

-- Tabs
local TabContainer = Instance.new("Frame", MainFrame); TabContainer.Size = UDim2.new(1, -10, 0, 35); TabContainer.Position = UDim2.new(0, 5, 0, 45); TabContainer.BackgroundColor3 = Color3.new(0,0,0); TabContainer.BackgroundTransparency = 0.6; Instance.new("UICorner", TabContainer).CornerRadius = UDim.new(0, 8)
local TabScroll = Instance.new("ScrollingFrame", TabContainer); TabScroll.Size = UDim2.new(1, -30, 1, 0); TabScroll.Position = UDim2.new(0, 5, 0, 0); TabScroll.BackgroundTransparency = 1; TabScroll.ScrollBarThickness = 0; TabScroll.CanvasSize = UDim2.new(2, 0, 0, 0); TabScroll.ScrollingDirection = Enum.ScrollingDirection.X
local TabListLayout = Instance.new("UIListLayout", TabScroll); TabListLayout.FillDirection = Enum.FillDirection.Horizontal; TabListLayout.Padding = UDim.new(0, 5); TabListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
local AddFolderBtn = Instance.new("TextButton", TabContainer); AddFolderBtn.Size = UDim2.new(0, 25, 0, 35); AddFolderBtn.Position = UDim2.new(1, -25, 0, 0); AddFolderBtn.BackgroundTransparency = 1; AddFolderBtn.Text = "+"; AddFolderBtn.TextColor3 = Theme.Accent; AddFolderBtn.Font = Enum.Font.GothamBlack; AddFolderBtn.TextSize = 20

-- Speed
local SpeedFrame = Instance.new("Frame", MainFrame); SpeedFrame.Size = UDim2.new(1, -10, 0, 35); SpeedFrame.Position = UDim2.new(0, 5, 0, 85); SpeedFrame.BackgroundTransparency = 1
local MinusBtn = Instance.new("TextButton", SpeedFrame); MinusBtn.Size = UDim2.new(0, 30, 0, 30); MinusBtn.Position = UDim2.new(0, 0, 0.5, -15); MinusBtn.BackgroundColor3 = Theme.MainColor; MinusBtn.Text = "-"; MinusBtn.TextColor3 = Theme.Accent; MinusBtn.Font = Enum.Font.GothamBlack; MinusBtn.TextSize = 18; Instance.new("UICorner", MinusBtn).CornerRadius = UDim.new(0, 8); Instance.new("UIStroke", MinusBtn).Color=Theme.Accent; Instance.new("UIStroke", MinusBtn).Thickness=1; Instance.new("UIStroke", MinusBtn).Transparency=0.5
local PlusBtn = Instance.new("TextButton", SpeedFrame); PlusBtn.Size = UDim2.new(0, 30, 0, 30); PlusBtn.Position = UDim2.new(1, -30, 0.5, -15); PlusBtn.BackgroundColor3 = Theme.MainColor; PlusBtn.Text = "+"; PlusBtn.TextColor3 = Theme.Accent; PlusBtn.Font = Enum.Font.GothamBlack; PlusBtn.TextSize = 18; Instance.new("UICorner", PlusBtn).CornerRadius = UDim.new(0, 8); Instance.new("UIStroke", PlusBtn).Color=Theme.Accent; Instance.new("UIStroke", PlusBtn).Thickness=1; Instance.new("UIStroke", PlusBtn).Transparency=0.5
local ValueLabel = Instance.new("TextLabel", SpeedFrame); ValueLabel.Text = "1.0s"; ValueLabel.Size = UDim2.new(0, 60, 0, 15); ValueLabel.Position = UDim2.new(0.5, -30, 0.5, -7.5); ValueLabel.BackgroundTransparency = 1; ValueLabel.TextColor3 = Theme.Text; ValueLabel.Font = Enum.Font.GothamBold; ValueLabel.TextSize = 14

-- Loop & Input
local LoopBtn = Instance.new("TextButton", MainFrame); LoopBtn.Size = UDim2.new(1, -10, 0, 30); LoopBtn.Position = UDim2.new(0, 5, 0, 125); LoopBtn.BackgroundColor3 = Color3.new(0,0,0); LoopBtn.BackgroundTransparency = 0.6; LoopBtn.Text = "B·∫¨T AUTO LOOP"; LoopBtn.TextColor3 = Theme.Red; LoopBtn.Font = Enum.Font.GothamBold; LoopBtn.TextSize = 12; Instance.new("UICorner", LoopBtn).CornerRadius = UDim.new(0, 6); local LoopStroke = Instance.new("UIStroke", LoopBtn); LoopStroke.Color = Theme.Red; LoopStroke.Thickness = 1; LoopStroke.Transparency = 0.5
local InputBox = Instance.new("TextBox", MainFrame); InputBox.Size = UDim2.new(0.65, 0, 0, 30); InputBox.Position = UDim2.new(0, 5, 0, 160); InputBox.BackgroundColor3 = Color3.new(0,0,0); InputBox.BackgroundTransparency = 0.6; InputBox.Text = ""; InputBox.PlaceholderText = "T√™n ƒëi·ªÉm/t·ªáp..."; InputBox.TextColor3 = Theme.Text; InputBox.Font = Enum.Font.Gotham; InputBox.TextSize = 12; Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 6)
local AddPointBtn = Instance.new("TextButton", MainFrame); AddPointBtn.Size = UDim2.new(0.3, 0, 0, 30); AddPointBtn.Position = UDim2.new(1, -5, 0, 160); AddPointBtn.AnchorPoint = Vector2.new(1, 0); AddPointBtn.BackgroundColor3 = Theme.Accent; AddPointBtn.BackgroundTransparency = 0.2; AddPointBtn.Text = "L∆ØU"; AddPointBtn.TextColor3 = Color3.new(0,0,0); AddPointBtn.Font = Enum.Font.GothamBold; Instance.new("UICorner", AddPointBtn).CornerRadius = UDim.new(0, 6)

-- List
local ListContainer = Instance.new("ScrollingFrame", MainFrame); ListContainer.Size = UDim2.new(1, -10, 1, -200); ListContainer.Position = UDim2.new(0, 5, 0, 195); ListContainer.BackgroundTransparency = 1; ListContainer.ScrollBarThickness = 2; ListContainer.ScrollBarImageColor3 = Theme.Accent
local UIList = Instance.new("UIListLayout", ListContainer); UIList.Padding = UDim.new(0, 5); UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- === LOGIC H·ªÜ TH·ªêNG ===
local function SaveData() 
    local d = { CurrentFolder = Database.CurrentFolder, Folders = {} }
    for k, v in pairs(Database.Folders) do d.Folders[k] = {} for _, p in ipairs(v) do table.insert(d.Folders[k], {N = p.name, C = {p.cframe:GetComponents()}}) end end
    writefile(UniversalFile, HttpService:JSONEncode(d))
end

local function RefreshPoints() 
    for _, v in pairs(ListContainer:GetChildren()) do if v:IsA("Frame") then v:Destroy() end end; local currentList = Database.Folders[Database.CurrentFolder] or {}
    for i, point in ipairs(currentList) do 
        local Item = Instance.new("Frame", ListContainer); Item.Size = UDim2.new(1, 0, 0, 35); Item.BackgroundColor3 = Color3.new(0,0,0); Item.BackgroundTransparency = 0.6; Instance.new("UICorner", Item).CornerRadius = UDim.new(0, 6)
        local Name = Instance.new("TextLabel", Item); Name.Size = UDim2.new(0.65, 0, 1, 0); Name.Position = UDim2.new(0.05, 0, 0, 0); Name.BackgroundTransparency = 1; Name.Text = point.name; Name.TextColor3 = Theme.Text; Name.TextXAlignment = Enum.TextXAlignment.Left; Name.Font = Enum.Font.Gotham; Name.TextSize = 12
        local TP = Instance.new("TextButton", Item); TP.Size = UDim2.new(0, 28, 0, 28); TP.Position = UDim2.new(0.72, 0, 0.5, -14); TP.Text = "‚úàÔ∏è"; TP.BackgroundColor3 = Theme.Accent; TP.BackgroundTransparency = 0.1; TP.TextColor3 = Color3.new(0,0,0); Instance.new("UICorner", TP).CornerRadius = UDim.new(0, 6)
        local Del = Instance.new("TextButton", Item); Del.Size = UDim2.new(0, 28, 0, 28); Del.Position = UDim2.new(0.88, 0, 0.5, -14); Del.Text = "üóëÔ∏è"; Del.BackgroundColor3 = Theme.Red; Del.BackgroundTransparency = 0.1; Del.TextColor3 = Color3.new(1,1,1); Instance.new("UICorner", Del).CornerRadius = UDim.new(0, 6)
        TP.MouseButton1Click:Connect(function() if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then LocalPlayer.Character.HumanoidRootPart.CFrame = point.cframe end end)
        Del.MouseButton1Click:Connect(function() table.remove(currentList, i); SaveData(); RefreshPoints() end) 
    end
    ListContainer.CanvasSize = UDim2.new(0, 0, 0, #currentList * 40)
end

local function RefreshTabs() 
    for _, v in pairs(TabScroll:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end; local keys = {}; for k in pairs(Database.Folders) do table.insert(keys, k) end; table.sort(keys)
    for _, folderName in ipairs(keys) do 
        local TabBtn = Instance.new("TextButton", TabScroll); TabBtn.Size = UDim2.new(0, 0, 0, 25); TabBtn.AutomaticSize = Enum.AutomaticSize.X; TabBtn.BackgroundColor3 = (folderName == Database.CurrentFolder) and Theme.Accent or Color3.new(0,0,0); TabBtn.BackgroundTransparency = (folderName == Database.CurrentFolder) and 0.2 or 0.8; TabBtn.Text = "  " .. folderName .. "  "; TabBtn.TextColor3 = (folderName == Database.CurrentFolder) and Color3.new(0,0,0) or Theme.Text; TabBtn.Font = Enum.Font.GothamBold; TabBtn.TextSize = 12; Instance.new("UICorner", TabBtn).CornerRadius = UDim.new(0, 6)
        TabBtn.MouseButton1Click:Connect(function() Database.CurrentFolder = folderName; SaveData(); RefreshTabs(); RefreshPoints() end)
        TabBtn.MouseButton2Click:Connect(function() if folderName ~= "M·∫∑c ƒê·ªãnh" then Database.Folders[folderName] = nil; Database.CurrentFolder = "M·∫∑c ƒê·ªãnh"; SaveData(); RefreshTabs(); RefreshPoints() end end)
    end 
end

-- === CH·ª®C NƒÇNG L∆ØU NHANH (QUICK SAVE) ===
QuickSaveBtn.MouseButton1Click:Connect(function()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local folder = Database.CurrentFolder
        -- T·ª± ƒë·ªông ƒë·∫∑t t√™n: P1, P2...
        local nextIndex = #Database.Folders[folder] + 1
        local newName = "P" .. nextIndex
        
        table.insert(Database.Folders[folder], {
            name = newName,
            cframe = LocalPlayer.Character.HumanoidRootPart.CFrame
        })
        SaveData()
        RefreshPoints()
        
        -- Hi·ªáu ·ª©ng n√∫t nh√°y s√°ng
        local oldColor = QuickSaveBtn.BackgroundColor3
        QuickSaveBtn.BackgroundColor3 = Color3.new(1,1,1)
        wait(0.1)
        QuickSaveBtn.BackgroundColor3 = oldColor
        
        Notify("ƒê√£ l∆∞u nhanh: " .. newName, Theme.Green)
    end
end)

-- Discord Export
DiscordBtn.MouseButton1Click:Connect(function()
    if _G.WebhookURL == "" then Notify("Ch∆∞a nh·∫≠p Webhook!", Theme.Red); return end
    Notify("ƒêang g·ª≠i...", Theme.Discord)
    local fields = {}
    local totalPoints = 0
    for folderName, points in pairs(Database.Folders) do
        local valueText = ""
        if #points > 0 then for i, p in ipairs(points) do local pos = p.cframe.Position; local coord = string.format("(%d, %d, %d)", math.floor(pos.X), math.floor(pos.Y), math.floor(pos.Z)); valueText = valueText .. "`" .. i .. ". " .. p.name .. "` " .. coord .. "\n"; totalPoints = totalPoints + 1 end
        else valueText = "*Tr·ªëng*" end
        if #valueText > 1000 then valueText = string.sub(valueText, 1, 950) .. "\n..." end
        table.insert(fields, {["name"] = "üìÇ " .. folderName, ["value"] = valueText, ["inline"] = false})
    end
    Request({Url = _G.WebhookURL, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = HttpService:JSONEncode({["content"] = "", ["embeds"] = {{["title"] = "TELEPORT DATA",["description"] = "T·ªïng ƒëi·ªÉm: " .. totalPoints,["color"] = 16766720,["fields"] = fields}}})})
    Notify("ƒê√£ g·ª≠i Backup!", Theme.Green)
end)

-- Initialize
if isfile(UniversalFile) then pcall(function() local r = HttpService:JSONDecode(readfile(UniversalFile)); if r.Folders then Database.Folders={}; Database.CurrentFolder=r.CurrentFolder or "M·∫∑c ƒê·ªãnh"; for k,v in pairs(r.Folders) do Database.Folders[k]={}; for _,p in ipairs(v) do table.insert(Database.Folders[k], {name=p.N, cframe=CFrame.new(unpack(p.C))}) end end end end) end
if not Database.Folders["M·∫∑c ƒê·ªãnh"] then Database.Folders["M·∫∑c ƒê·ªãnh"] = {} end
RefreshTabs(); RefreshPoints()

-- Logic Buttons
local function UpdateSpeed() CurrentDelay = math.clamp(CurrentDelay, 0.1, 10.0); ValueLabel.Text = string.format("%.1fs", CurrentDelay) end
MinusBtn.MouseButton1Click:Connect(function() CurrentDelay = CurrentDelay - 0.1; UpdateSpeed() end)
PlusBtn.MouseButton1Click:Connect(function() CurrentDelay = CurrentDelay + 0.1; UpdateSpeed() end)
AddFolderBtn.MouseButton1Click:Connect(function() local n=InputBox.Text; if n~="" and not Database.Folders[n] then Database.Folders[n]={}; Database.CurrentFolder=n; SaveData(); RefreshTabs(); RefreshPoints(); InputBox.Text="" end end)
AddPointBtn.MouseButton1Click:Connect(function() if LocalPlayer.Character then local n=InputBox.Text; if n=="" then n="P"..#Database.Folders[Database.CurrentFolder]+1 end; table.insert(Database.Folders[Database.CurrentFolder], {name=n, cframe=LocalPlayer.Character.HumanoidRootPart.CFrame}); SaveData(); RefreshPoints(); InputBox.Text="" end end)
LoopBtn.MouseButton1Click:Connect(function() isAutoLooping = not isAutoLooping; if isAutoLooping then LoopBtn.Text="ƒêANG CH·∫†Y..."; LoopBtn.TextColor3=Theme.Accent; LoopStroke.Color=Theme.Accent; task.spawn(function() while isAutoLooping do local list=Database.Folders[Database.CurrentFolder]; if not list or #list==0 then isAutoLooping=false; break end; for _,p in ipairs(list) do if not isAutoLooping or Database.Folders[Database.CurrentFolder]~=list then break end; if LocalPlayer.Character then LocalPlayer.Character.HumanoidRootPart.CFrame=p.cframe end; wait(CurrentDelay) end end end; LoopBtn.Text="B·∫¨T AUTO LOOP"; LoopBtn.TextColor3=Theme.Red; LoopStroke.Color=Theme.Red end) else LoopBtn.Text="B·∫¨T AUTO LOOP"; LoopBtn.TextColor3=Theme.Red; LoopStroke.Color=Theme.Red end end)

local isOn = false
ToggleBtn.MouseButton1Click:Connect(function() isOn = not isOn; MainFrame.Visible = isOn end)
local function MakeDraggable(frame) local dragToggle, dragStart, startPos, dragInput
    frame.InputBegan:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch or i.UserInputType==Enum.UserInputType.MouseButton1 then dragToggle=true; dragStart=i.Position; startPos=frame.Position end end)
    frame.InputChanged:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch or i.UserInputType==Enum.UserInputType.MouseMovement then dragInput=i end end)
    UserInputService.InputChanged:Connect(function(i) if i==dragInput and dragToggle then local d=i.Position-dragStart; TweenService:Create(frame, TweenInfo.new(0.05), {Position=UDim2.new(startPos.X.Scale, startPos.X.Offset+d.X, startPos.Y.Scale, startPos.Y.Offset+d.Y)}):Play() end end)
    frame.InputBegan:Connect(function(i) if i.UserInputState==Enum.UserInputState.End then dragToggle=false end end)
end; MakeDraggable(MainFrame)

print("V15 Quick Save Loaded")
TabContainer.Size = UDim2.new(1, -20, 0, 35); TabContainer.Position = UDim2.new(0, 10, 0, 50); TabContainer.BackgroundColor3 = Color3.new(0,0,0); TabContainer.BackgroundTransparency = 0.6; Instance.new("UICorner", TabContainer).CornerRadius = UDim.new(0, 8)
local TabScroll = Instance.new("ScrollingFrame", TabContainer); TabScroll.Size = UDim2.new(1, -35, 1, 0); TabScroll.Position = UDim2.new(0, 5, 0, 0); TabScroll.BackgroundTransparency = 1; TabScroll.ScrollBarThickness = 0; TabScroll.CanvasSize = UDim2.new(2, 0, 0, 0); TabScroll.ScrollingDirection = Enum.ScrollingDirection.X
local TabListLayout = Instance.new("UIListLayout", TabScroll); TabListLayout.FillDirection = Enum.FillDirection.Horizontal; TabListLayout.Padding = UDim.new(0, 5); TabListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
local AddFolderBtn = Instance.new("TextButton", TabContainer); AddFolderBtn.Size = UDim2.new(0, 30, 0, 35); AddFolderBtn.Position = UDim2.new(1, -30, 0, 0); AddFolderBtn.BackgroundTransparency = 1; AddFolderBtn.Text = "+"; AddFolderBtn.TextColor3 = Theme.Accent; AddFolderBtn.Font = Enum.Font.GothamBlack; AddFolderBtn.TextSize = 22

-- Khu v·ª±c T·ªëc ƒë·ªô
local SpeedFrame = Instance.new("Frame", MainFrame); SpeedFrame.Size = UDim2.new(1, -20, 0, 35); SpeedFrame.Position = UDim2.new(0, 10, 0, 90); SpeedFrame.BackgroundTransparency = 1
local MinusBtn = Instance.new("TextButton", SpeedFrame); MinusBtn.Size = UDim2.new(0, 30, 0, 30); MinusBtn.Position = UDim2.new(0, 0, 0.5, -15); MinusBtn.BackgroundColor3 = Theme.MainColor; MinusBtn.Text = "-"; MinusBtn.TextColor3 = Theme.Accent; MinusBtn.Font = Enum.Font.GothamBlack; MinusBtn.TextSize = 18; Instance.new("UICorner", MinusBtn).CornerRadius = UDim.new(0, 8); Instance.new("UIStroke", MinusBtn).Color=Theme.Accent; Instance.new("UIStroke", MinusBtn).Thickness=1; Instance.new("UIStroke", MinusBtn).Transparency=0.5
local PlusBtn = Instance.new("TextButton", SpeedFrame); PlusBtn.Size = UDim2.new(0, 30, 0, 30); PlusBtn.Position = UDim2.new(1, -30, 0.5, -15); PlusBtn.BackgroundColor3 = Theme.MainColor; PlusBtn.Text = "+"; PlusBtn.TextColor3 = Theme.Accent; PlusBtn.Font = Enum.Font.GothamBlack; PlusBtn.TextSize = 18; Instance.new("UICorner", PlusBtn).CornerRadius = UDim.new(0, 8); Instance.new("UIStroke", PlusBtn).Color=Theme.Accent; Instance.new("UIStroke", PlusBtn).Thickness=1; Instance.new("UIStroke", PlusBtn).Transparency=0.5
local SliderBg = Instance.new("Frame", SpeedFrame); SliderBg.Size = UDim2.new(1, -70, 0, 6); SliderBg.Position = UDim2.new(0.5, -35, 0.5, -4); SliderBg.AnchorPoint = Vector2.new(0.5, 0); SliderBg.BackgroundColor3 = Color3.fromRGB(50,50,50); Instance.new("UICorner", SliderBg).CornerRadius = UDim.new(1, 0)
local SliderFill = Instance.new("Frame", SliderBg); SliderFill.Size = UDim2.new(0.1, 0, 1, 0); SliderFill.BackgroundColor3 = Theme.Accent; Instance.new("UICorner", SliderFill).CornerRadius = UDim.new(1, 0)
local ValueLabel = Instance.new("TextLabel", SpeedFrame); ValueLabel.Text = "1.0s"; ValueLabel.Size = UDim2.new(1, 0, 0, 15); ValueLabel.Position = UDim2.new(0, 0, 1, -5); ValueLabel.BackgroundTransparency = 1; ValueLabel.TextColor3 = Theme.Text; ValueLabel.Font = Enum.Font.GothamBold; ValueLabel.TextSize = 10

-- N√∫t Auto Loop
local LoopBtn = Instance.new("TextButton", MainFrame); LoopBtn.Size = UDim2.new(1, -20, 0, 30); LoopBtn.Position = UDim2.new(0, 10, 0, 130); LoopBtn.BackgroundColor3 = Color3.new(0,0,0); LoopBtn.BackgroundTransparency = 0.6; LoopBtn.Text = "B·∫¨T AUTO LOOP"; LoopBtn.TextColor3 = Theme.Red; LoopBtn.Font = Enum.Font.GothamBold; LoopBtn.TextSize = 12; Instance.new("UICorner", LoopBtn).CornerRadius = UDim.new(0, 6); local LoopStroke = Instance.new("UIStroke", LoopBtn); LoopStroke.Color = Theme.Red; LoopStroke.Thickness = 1; LoopStroke.Transparency = 0.5
local InputBox = Instance.new("TextBox", MainFrame); InputBox.Size = UDim2.new(0.65, 0, 0, 30); InputBox.Position = UDim2.new(0, 10, 0, 165); InputBox.BackgroundColor3 = Color3.new(0,0,0); InputBox.BackgroundTransparency = 0.6; InputBox.Text = ""; InputBox.PlaceholderText = "T√™n ƒëi·ªÉm/t·ªáp..."; InputBox.TextColor3 = Theme.Text; InputBox.Font = Enum.Font.Gotham; InputBox.TextSize = 12; Instance.new("UICorner", InputBox).CornerRadius = UDim.new(0, 6)
local AddPointBtn = Instance.new("TextButton", MainFrame); AddPointBtn.Size = UDim2.new(0.3, 0, 0, 30); AddPointBtn.Position = UDim2.new(1, -10, 0, 165); AddPointBtn.AnchorPoint = Vector2.new(1, 0); AddPointBtn.BackgroundColor3 = Theme.Accent; AddPointBtn.BackgroundTransparency = 0.2; AddPointBtn.Text = "L∆ØU"; AddPointBtn.TextColor3 = Color3.new(0,0,0); AddPointBtn.Font = Enum.Font.GothamBold; Instance.new("UICorner", AddPointBtn).CornerRadius = UDim.new(0, 6)

-- List
local ListContainer = Instance.new("ScrollingFrame", MainFrame); ListContainer.Size = UDim2.new(1, -20, 1, -200); ListContainer.Position = UDim2.new(0, 10, 0, 200); ListContainer.BackgroundTransparency = 1; ListContainer.ScrollBarThickness = 2; ListContainer.ScrollBarImageColor3 = Theme.Accent
local UIList = Instance.new("UIListLayout", ListContainer); UIList.Padding = UDim.new(0, 5); UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- Toggle Button
local ToggleBtn = Instance.new("ImageButton", ScreenGui); ToggleBtn.Size = UDim2.new(0, 45, 0, 45); ToggleBtn.Position = UDim2.new(0.02, 0, 0.4, 0); ToggleBtn.BackgroundColor3 = Theme.Accent; ToggleBtn.Image = "rbxassetid://7072719530"; ToggleBtn.ImageColor3 = Color3.new(0, 0, 0); Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(1, 0); Instance.new("UIStroke", ToggleBtn).Color = Color3.new(1,1,1); Instance.new("UIStroke", ToggleBtn).Thickness = 2; Instance.new("UIStroke", ToggleBtn).Transparency = 0.5

-- === LOGIC H·ªÜ TH·ªêNG ===

local function SaveData() 
    local d = { CurrentFolder = Database.CurrentFolder, Folders = {} }
    for k, v in pairs(Database.Folders) do d.Folders[k] = {} for _, p in ipairs(v) do table.insert(d.Folders[k], {N = p.name, C = {p.cframe:GetComponents()}}) end end
    writefile(UniversalFile, HttpService:JSONEncode(d))
end

local function RefreshPoints() 
    for _, v in pairs(ListContainer:GetChildren()) do if v:IsA("Frame") then v:Destroy() end end; local currentList = Database.Folders[Database.CurrentFolder] or {}
    for i, point in ipairs(currentList) do 
        local Item = Instance.new("Frame", ListContainer); Item.Size = UDim2.new(1, 0, 0, 35); Item.BackgroundColor3 = Color3.new(0,0,0); Item.BackgroundTransparency = 0.6; Instance.new("UICorner", Item).CornerRadius = UDim.new(0, 6)
        local Name = Instance.new("TextLabel", Item); Name.Size = UDim2.new(0.65, 0, 1, 0); Name.Position = UDim2.new(0.05, 0, 0, 0); Name.BackgroundTransparency = 1; Name.Text = point.name; Name.TextColor3 = Theme.Text; Name.TextXAlignment = Enum.TextXAlignment.Left; Name.Font = Enum.Font.Gotham; Name.TextSize = 12
        local TP = Instance.new("TextButton", Item); TP.Size = UDim2.new(0, 28, 0, 28); TP.Position = UDim2.new(0.72, 0, 0.5, -14); TP.Text = "‚úàÔ∏è"; TP.BackgroundColor3 = Theme.Accent; TP.BackgroundTransparency = 0.1; TP.TextColor3 = Color3.new(0,0,0); Instance.new("UICorner", TP).CornerRadius = UDim.new(0, 6)
        local Del = Instance.new("TextButton", Item); Del.Size = UDim2.new(0, 28, 0, 28); Del.Position = UDim2.new(0.88, 0, 0.5, -14); Del.Text = "üóëÔ∏è"; Del.BackgroundColor3 = Theme.Red; Del.BackgroundTransparency = 0.1; Del.TextColor3 = Color3.new(1,1,1); Instance.new("UICorner", Del).CornerRadius = UDim.new(0, 6)
        TP.MouseButton1Click:Connect(function() if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then LocalPlayer.Character.HumanoidRootPart.CFrame = point.cframe end end)
        Del.MouseButton1Click:Connect(function() table.remove(currentList, i); SaveData(); RefreshPoints() end) 
    end
    ListContainer.CanvasSize = UDim2.new(0, 0, 0, #currentList * 40)
end

local function RefreshTabs() 
    for _, v in pairs(TabScroll:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end; local keys = {}; for k in pairs(Database.Folders) do table.insert(keys, k) end; table.sort(keys)
    for _, folderName in ipairs(keys) do 
        local TabBtn = Instance.new("TextButton", TabScroll); TabBtn.Size = UDim2.new(0, 0, 0, 25); TabBtn.AutomaticSize = Enum.AutomaticSize.X; TabBtn.BackgroundColor3 = (folderName == Database.CurrentFolder) and Theme.Accent or Color3.new(0,0,0); TabBtn.BackgroundTransparency = (folderName == Database.CurrentFolder) and 0.2 or 0.8; TabBtn.Text = "  " .. folderName .. "  "; TabBtn.TextColor3 = (folderName == Database.CurrentFolder) and Color3.new(0,0,0) or Theme.Text; TabBtn.Font = Enum.Font.GothamBold; TabBtn.TextSize = 12; Instance.new("UICorner", TabBtn).CornerRadius = UDim.new(0, 6)
        TabBtn.MouseButton1Click:Connect(function() Database.CurrentFolder = folderName; SaveData(); RefreshTabs(); RefreshPoints() end)
        TabBtn.MouseButton2Click:Connect(function() if folderName ~= "M·∫∑c ƒê·ªãnh" then Database.Folders[folderName] = nil; Database.CurrentFolder = "M·∫∑c ƒê·ªãnh"; SaveData(); RefreshTabs(); RefreshPoints() end end)
    end 
end

-- === CH·ª®C NƒÇNG DISCORD PRO DASHBOARD ===
DiscordBtn.MouseButton1Click:Connect(function()
    if _G.WebhookURL == "" then Notify("Ch∆∞a nh·∫≠p Webhook!", Theme.Red); return end
    Notify("ƒêang g·ª≠i Dashboard...", Theme.Discord)
    
    local fields = {}
    local totalPoints = 0
    
    for folderName, points in pairs(Database.Folders) do
        local valueText = ""
        if #points > 0 then
            for i, p in ipairs(points) do
                local pos = p.cframe.Position
                local coord = string.format("(%d, %d, %d)", math.floor(pos.X), math.floor(pos.Y), math.floor(pos.Z))
                valueText = valueText .. "`" .. i .. ". " .. p.name .. "` " .. coord .. "\n"
                totalPoints = totalPoints + 1
            end
        else valueText = "*Tr·ªëng*" end
        if #valueText > 1000 then valueText = string.sub(valueText, 1, 950) .. "\n... (C√≤n n·ªØa)" end
        table.insert(fields, {["name"] = "üìÇ " .. folderName, ["value"] = valueText, ["inline"] = false})
    end
    
    local embedData = {
        ["title"] = "üåç TELEPORT DATA DASHBOARD",
        ["description"] = "D·ªØ li·ªáu ƒë∆∞·ª£c xu·∫•t t·ª´ **Teleport Script V14**\n**Game:** " .. game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name .. "\n**T·ªïng ƒëi·ªÉm:** " .. totalPoints,
        ["color"] = 16766720,
        ["fields"] = fields,
        ["footer"] = {["text"] = "T·ª± ƒë·ªông ƒë·ªìng b·ªô l√∫c " .. os.date("%X")},
        ["thumbnail"] = {["url"] = "https://www.roblox.com/asset-thumbnail/image?assetId=" .. game.PlaceId .. "&width=420&height=420&format=png"}
    }
    
    Request({Url = _G.WebhookURL, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = HttpService:JSONEncode({["content"] = "", ["embeds"] = {embedData}})})
    Notify("ƒê√£ g·ª≠i Dashboard!", Theme.Green)
end)

-- Initialize
local function InitializeData()
    if isfile(UniversalFile) then
        pcall(function() local r = HttpService:JSONDecode(readfile(UniversalFile)); if r.Folders then Database.Folders={}; Database.CurrentFolder=r.CurrentFolder or "M·∫∑c ƒê·ªãnh"; for k,v in pairs(r.Folders) do Database.Folders[k]={}; for _,p in ipairs(v) do table.insert(Database.Folders[k], {name=p.N, cframe=CFrame.new(unpack(p.C))}) end end end end)
    else
        Notify("ƒêang qu√©t d·ªØ li·ªáu c≈©...", Theme.Accent)
        local FoundOldData = false
        for _, prefix in ipairs(LegacyFiles) do
            local oldFile = prefix .. tostring(game.PlaceId) .. ".json"
            if isfile(oldFile) then
                local s, data = pcall(function() return HttpService:JSONDecode(readfile(oldFile)) end)
                if s and data then
                    local ImportName = "Backup " .. prefix:gsub("_", "")
                    Database.Folders[ImportName] = {}
                    if data.Folders then for fname, list in pairs(data.Folders) do for _, p in ipairs(list) do table.insert(Database.Folders[ImportName], {name=p.N, cframe=CFrame.new(unpack(p.C))}) end end
                    elseif #data > 0 then for _, p in ipairs(data) do local c=p.Components or (p.cframe and {p.cframe.X, p.cframe.Y, p.cframe.Z}) or {0,0,0}; table.insert(Database.Folders[ImportName], {name=p.N or p.name or "P", cframe=CFrame.new(unpack(c))}) end end
                    FoundOldData = true
                end
            end
        end
        if FoundOldData then SaveData(); Notify("ƒê√£ g·ªôp d·ªØ li·ªáu c≈©!", Theme.Green) end
    end
    if not Database.Folders["M·∫∑c ƒê·ªãnh"] then Database.Folders["M·∫∑c ƒê·ªãnh"] = {} end
end

-- Events
local function UpdateSpeedDisplay() CurrentDelay = math.clamp(CurrentDelay, 0.1, 10.0); CurrentDelay = math.floor(CurrentDelay * 10) / 10; ValueLabel.Text = CurrentDelay .. "s"; local percent = (CurrentDelay - 0.1) / 9.9; TweenService:Create(SliderFill, TweenInfo.new(0.1), {Size = UDim2.new(percent, 0, 1, 0)}):Play() end
MinusBtn.MouseButton1Click:Connect(function() CurrentDelay = CurrentDelay - 0.1; UpdateSpeedDisplay() end)
PlusBtn.MouseButton1Click:Connect(function() CurrentDelay = CurrentDelay + 0.1; UpdateSpeedDisplay() end)
AddFolderBtn.MouseButton1Click:Connect(function() local n = InputBox.Text; if n~="" and not Database.Folders[n] then Database.Folders[n]={}; Database.CurrentFolder=n; InputBox.Text=""; SaveData(); RefreshTabs(); RefreshPoints(); Notify("T·∫°o: "..n, Theme.Accent) else Notify("L·ªói t√™n!", Theme.Red) end end)
AddPointBtn.MouseButton1Click:Connect(function() if LocalPlayer.Character then local n=InputBox.Text; if n=="" then n="P"..#Database.Folders[Database.CurrentFolder]+1 end; if not Database.Folders[n] then table.insert(Database.Folders[Database.CurrentFolder], {name=n, cframe=LocalPlayer.Character.HumanoidRootPart.CFrame}); SaveData(); RefreshPoints(); InputBox.Text=""; Notify("L∆∞u!", Theme.Accent) end end end)
LoopBtn.MouseButton1Click:Connect(function() isAutoLooping = not isAutoLooping; if isAutoLooping then LoopBtn.Text="ƒêANG CH·∫†Y..."; LoopBtn.TextColor3=Theme.Accent; LoopStroke.Color=Theme.Accent; task.spawn(function() while isAutoLooping do local list=Database.Folders[Database.CurrentFolder]; if not list or #list==0 then isAutoLooping=false; break end; for _,p in ipairs(list) do if not isAutoLooping or Database.Folders[Database.CurrentFolder]~=list then break end; if LocalPlayer.Character then LocalPlayer.Character.HumanoidRootPart.CFrame=p.cframe end; local w=0; while w<CurrentDelay do if not isAutoLooping then break end; task.wait(0.1); w=w+0.1 end end end; LoopBtn.Text="B·∫¨T AUTO LOOP"; LoopBtn.TextColor3=Theme.Red; LoopStroke.Color=Theme.Red end) else LoopBtn.Text="B·∫¨T AUTO LOOP"; LoopBtn.TextColor3=Theme.Red; LoopStroke.Color=Theme.Red end end)

InitializeData()
RefreshTabs(); RefreshPoints()

local isOn = true
ToggleBtn.MouseButton1Click:Connect(function() isOn = not isOn; MainFrame.Visible = isOn end)
local function MakeDraggable(frame) local dragToggle, dragStart, startPos, dragInput
    frame.InputBegan:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch or i.UserInputType==Enum.UserInputType.MouseButton1 then dragToggle=true; dragStart=i.Position; startPos=frame.Position end end)
    frame.InputChanged:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch or i.UserInputType==Enum.UserInputType.MouseMovement then dragInput=i end end)
    UserInputService.InputChanged:Connect(function(i) if i==dragInput and dragToggle then local d=i.Position-dragStart; TweenService:Create(frame, TweenInfo.new(0.05), {Position=UDim2.new(startPos.X.Scale, startPos.X.Offset+d.X, startPos.Y.Scale, startPos.Y.Offset+d.Y)}):Play() end end)
    frame.InputBegan:Connect(function(i) if i.UserInputState==Enum.UserInputState.End then dragToggle=false end end)
end; MakeDraggable(MainFrame)

print("V14 Discord Sync Loaded")

